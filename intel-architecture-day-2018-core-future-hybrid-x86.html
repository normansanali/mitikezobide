<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Sunny Cove Microarchitecture: A Peek At the Back End - FluxDash</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="One of the best parts when a new microarchitecture is announced is learning how it all works and how it has changed. Intel has been on close variants of the Skylake core since Skylake first launched in 2015, which has carried through Kaby Lake, Coffee Lake, and Coffee Lake refresh  and so getting an"><meta name=robots content="index,follow,noarchive"><meta property="og:title" content="Sunny Cove Microarchitecture: A Peek At the Back End"><meta property="og:description" content="One of the best parts when a new microarchitecture is announced is learning how it all works and how it has changed. Intel has been on close variants of the Skylake core since Skylake first launched in 2015, which has carried through Kaby Lake, Coffee Lake, and Coffee Lake refresh  and so getting an"><meta property="og:type" content="article"><meta property="og:url" content="/intel-architecture-day-2018-core-future-hybrid-x86.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-08-06T00:00:00+00:00"><meta property="article:modified_time" content="2024-08-06T00:00:00+00:00"><meta itemprop=name content="Sunny Cove Microarchitecture: A Peek At the Back End"><meta itemprop=description content="One of the best parts when a new microarchitecture is announced is learning how it all works and how it has changed. Intel has been on close variants of the Skylake core since Skylake first launched in 2015, which has carried through Kaby Lake, Coffee Lake, and Coffee Lake refresh  and so getting an"><meta itemprop=datePublished content="2024-08-06T00:00:00+00:00"><meta itemprop=dateModified content="2024-08-06T00:00:00+00:00"><meta itemprop=wordCount content="1318"><meta itemprop=keywords content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/mainroad/css/style.css><link rel="shortcut icon" href=./favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=./index.html title=FluxDash rel=home><div class="logo__item logo__text"><div class=logo__title>FluxDash</div></div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Sunny Cove Microarchitecture: A Peek At the Back End</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2024-08-06T00:00:00Z>August 06, 2024</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=./categories/blog/ rel=category>blog</a></span></div></div></header><div class="content post__content clearfix"><p>One of the best parts when a new microarchitecture is announced is learning how it all works and how it has changed. Intel has been on close variants of the Skylake core since Skylake first launched in 2015, which has carried through Kaby Lake, Coffee Lake, and Coffee Lake refresh – and so getting an update to his old core design is more than welcome. While I applaud Intel for getting something new to put in front of our faces, the level of information was unfortunately less than complete. For reasons of ‘we’ll discuss more nearer the launch’, Intel was only set on discussing the back end of the microarchitecture design in any detail. In core design parlance, this means everything beyond the dispatch and order queues.</p><p>Intel framed its microarchitecture updates into two different sections: general purpose performance increases and special purpose performance increases. The company described the general purpose updates essentially as raw IPC (instructions per clock) throughput or an increase in frequency. An increase in either of these two leads to a performance increase no matter the code, at least as long as it is compute bound. Frequency is often a function of the implementation and process, whereas IPC increases can come from cores being wider (more executing instructions per clock), deeper (more parallelism per clock), and smarter (better data delivery through the front end).</p><p><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/13699/Ronak10_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The other type of performance increase is the special purpose kind, which means that certain workloads used in specific scenarios can be improved through additional acceleration methods, such as dedicated IP or specialized instructions.</p><p><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/13699/Ronak14_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>Sunny Cove is set to have both.</p><p>On the back end of the microarchitecture design, Intel has done several things including increasing cache sizes, making the execution of the core wider, increasing L1 store bandwidth, and other things.</p><p><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/13699/Ronak26_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>Starting with the cache improvements, the Sunny Cove core back end has a 48 KB L1 Data cache, upgraded from 32 KB. Normally cache misses decrease by a factor of a square root of the proportional size when the cache is increased, so in this case we should expect a 22% reduction in L1-Data cache misses. We are told that the L2 cache size has also been increased in both the Core and Xeon variants of Sunny Cove (256 KB and 1 MB respectively), although to exactly what size will be revealed at a later date.</p><p>While not back-end, the micro-op (uOp) cache has increased from a 2048-entry design, although exactly to what Intel is not saying at this point. The second level TLB size has also increased, which will help with machine address translation of recent addresses – normally this is increased when more lookups need to be kept and stored, which means that Intel identified a number of use cases where recent addresses had been evicted shortly before being needed.</p><p><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/13699/Ronak28_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>From the diagram we can see some other changes, such as the increase in execution ports from eight to ten, allowing more instructions to come out of the schedulers at one time. Port 4 and Port 9 is linked to a cycling data store, doubling that bandwidth, but also the AGU store capabilities have doubled, for which the increased L1-D size will help. Previously on Skylake there was a potential bottleneck when all three AGUs could attempt a store, however only enough bandwidth was present for one per clock cycle. Load performance is unaffected.&nbsp; There is also an allocation increase, moving from four to five. This means that the dispatch out of the reorder buffer can now hit five instructions per cycle, rather than four – however given that the ops/cycle out of the Skylake decoders and uOp cache was four-to-five (depending on certain factors), it will be interesting to see how the front end has changed as a result.</p><p>There are also substantial changes in the execution ports between Skylake and Sunny Cove, which is best represented in a diagram and a table:</p><p><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/13699/Ronak20_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><table border=0 width=100%><tbody readability=1><tr readability=2><td class=contentwhite colspan=9>Back-End Execution Resources</td></tr><tr class=tlblue><td colspan=4 rowspan=1>Skylake</td><td colspan=1 rowspan=1>Port</td><td colspan=4 rowspan=1>Sunny Cove</td></tr><tr><td class=tlgrey colspan=9>Integer</td></tr><tr><td>&nbsp;</td><td>JMP</td><td>Shift</td><td>ALU</td><td class=tlgrey>0</td><td>ALU</td><td><strong>LEA</strong></td><td>Shift</td><td>JMP</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>LEA</td><td>ALU</td><td class=tlgrey>1</td><td>ALU</td><td>LEA</td><td><strong>Mul</strong></td><td><strong>iDIV</strong></td></tr><tr><td>&nbsp;</td><td>Mul</td><td>LEA</td><td>ALU</td><td class=tlgrey>5</td><td>ALU</td><td>LEA</td><td><strong>MulHi</strong></td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>JMP</td><td>Shift</td><td>ALU</td><td class=tlgrey>6</td><td>ALU</td><td><strong>LEA</strong></td><td>Shift</td><td>JMP</td></tr><tr><td class=tlgrey colspan=9>Vector / FP</td></tr><tr><td>fpDIV</td><td>Shift</td><td>ALU</td><td>FMA</td><td class=tlgrey>0</td><td>FMA</td><td>ALU</td><td>Shift</td><td>fpDIV</td></tr><tr><td>&nbsp;</td><td>Shift</td><td>ALU</td><td>FMA</td><td class=tlgrey>1</td><td>FMA</td><td>ALU</td><td>Shift</td><td><strong>Shuffle</strong></td></tr><tr><td>&nbsp;</td><td>Shuffle</td><td>ALU</td><td>FMA</td><td class=tlgrey>5</td><td>FMA</td><td>ALU</td><td>Shuffle</td><td>&nbsp;</td></tr></tbody></table><p>The parts highlighted in bold are different in the Sunny Cove core.</p><p>We see that Intel has equipped the Integer section of the core with more LEA units to help with memory addressing calculations, possibly to help improve performance loss with security mitigations that require frequent memory calculations or to help with high-performance array code with constant offsets. Port 1 gets the Mul unit from Skylake Port 5, probably for rebalancing purposes, but there is also an integer divider unit here. This addition is a bit of a tweak, as we know that Cannon Lake has a 64-bit IDIV unit in its design as well. In that case it brings 64-bit integer division down from 97 clocks (a mix of instructions) down to 18 clocks, and this is likely something similar. Also on the INT side is that Port 5’s multiply unit has become a ‘MulHi’ unit which in other implementations leave most-significant nibble of the result in a register for further use. I'm not sure exactly what its position is here in the Sunny Cove core though.</p><p>On the FP side, Intel has increased the shuffle resources, which we are told was because they had customers requesting this functionality to help remove bottlenecks in their code. Intel didn’t state the capabilities for the FMAs in the FP part of the core, however we do know that the core has an AVX-512 unit, so at least one of these FMAs should interface with it. Cannon Lake only has one 512-bit FMA, and that most likely carries over here, and the Xeon Scalable version might get two. I would like to get proved wrong though.</p><p>Other updates to the core as listed from Intel include improvements to the branch predictor and a reduced ‘effective load latency’ (due to the TLB and L1-D), although it was pointed out that these improvements won’t help everyone, and might require new algorithms in order to use specific parts of the core.</p><p>We’re waiting to see what changes Intel has made on the front-end, which is where a lot of low-hanging fruit often lies for performance.</p><p>On top of the microarchitecture differences, there are new instructions for the Sunny Cove core to help speed up specialist compute tasks. With the AVX-512 unit in play, the new core will support IFMA instructions for big arithmetic compute, and which are also useful in cryptography. Along the same lines, Vector-AES (supporting more AES concurrently) and Vector Carryless Multiply are also supported. SHA and SHA-NI instructrions are also added, along with Galois Field instructions, which are fundamental building blocks in some elements of cryptography as well.</p><p><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/13699/Ronak34_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>For Sunny Cove, there is also built-in support for larger memory capacities. The paging table for main memory is now a five layer design, up from four layers, supporting a Linear Address space up to 57 bits and a physical address space up to 52 bits. This means, according to Intel, that the server processors could theoretically support 4 TB of memory per socket. We will see Sunny Cove hit the market in the server space with Ice Lake-SP in 2020 according to Intel’s previous Xeon roadmaps.&nbsp;&nbsp; For security, Sunny Cove has access to Multi-Key Total Memory Encryption, and User Mode Instruction Prevention.</p><p>So where does this leave us in terms of Sunny Cove predicted performance compared to Skylake at a clock for clock level? Unfortunately we don’t have enough information. There is only enough to whet the appetite. Intel wants you (and me) to come back for more in 2019.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZH50gphyZqKmpJq5bq3RnJ%2BirJWYwba%2BxGabmrFdZ31yhIycpqudXZvCtcHRnmShsZKntqV513FtaGo%3D</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=./the-bad-batch-season-3-echo.html rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>The Bad Batch Season 3 Finally Does Echo Justice</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=./sugar-cookie-bars.html rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Sugar Cookie Bars Modern Honey</p></a></div></nav></div><aside class=sidebar><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./burger-king-officially-debuts-meatless-impossible-whopper.html>Burger King Officially Debuts Meatless Impossible Whopper</a></li><li class=widget__item><a class=widget__link href=./john-travolta-and-kelly-preston-spotted-at-countryside-mall.html>John Travolta and Kelly Preston spotted at Countryside Mall</a></li><li class=widget__item><a class=widget__link href=./josh-allen-reveals-if-buffalo-bills-have-taylor-swift-audible-call.html>Josh Allen Reveals If Buffalo Bills Have Taylor Swift Audible Call</a></li><li class=widget__item><a class=widget__link href=./kenneth-david-pilon-charged-with-hate-crimes-against-blm.html>Kenneth David Pilon Charged with Hate Crimes Against BLM</a></li><li class=widget__item><a class=widget__link href=./rilyn-dinyae.html>Rilyn Dinyae - Bio, Age, Net Worth, Single, Nationality, Facts</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./categories/blog/>blog</a></li></ul></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 FluxDash.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=https://assets.cdnweb.info/hugo/mainroad/js/menu.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>